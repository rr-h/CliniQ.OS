          return this.checkIfDeleted(), this.responseToken;
        }
        delete() {
          this.checkIfDeleted(),
            (this.deleted = !0),
            this.timerId && (clearTimeout(this.timerId), (this.timerId = null)),
            this.container.removeEventListener('click', this.clickHandler);
        }
        execute() {
          this.checkIfDeleted(),
            this.timerId ||
              (this.timerId = window.setTimeout(() => {
                this.responseToken = Nr(50);
                const { callback: e, 'expired-callback': t } = this.params;
                if (e)
                  try {
                    e(this.responseToken);
                  } catch (n) {}
                this.timerId = window.setTimeout(() => {
                  if (((this.timerId = null), (this.responseToken = null), t))
                    try {
                      t();
                    } catch (n) {}
                  this.isVisible && this.execute();
                }, xr);
              }, Ar));
        }
        checkIfDeleted() {
          if (this.deleted) throw new Error('reCAPTCHA mock was already deleted!');
        }
      }
      function Nr(e) {
        const t = [],
          n = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        for (let r = 0; r < e; r++) t.push(n.charAt(Math.floor(Math.random() * n.length)));
        return t.join('');
      }
      /**
       * @license
       * Copyright 2020 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */ const Rr = Fe('rcb'),
        Pr = new R(3e4, 6e4),
        Dr = 'https://www.google.com/recaptcha/api.js?';
      class Lr {
        constructor() {
          var e;
          (this.hostLanguage = ''),
            (this.counter = 0),
            (this.librarySeparatelyLoaded = !!(null === (e = nr().grecaptcha) || void 0 === e ? void 0 : e.render));
        }
        load(e, t = '') {
          return (
            S(jr(t), e, 'argument-error'),
            this.shouldResolveImmediately(t) && Pe(nr().grecaptcha)
              ? Promise.resolve(nr().grecaptcha)
              : new Promise((n, r) => {
                  const o = nr().setTimeout(() => {
                    r(b(e, 'network-request-failed'));
                  }, Pr.get());
                  nr()[Rr] = () => {
                    nr().clearTimeout(o), delete nr()[Rr];
                    const i = nr().grecaptcha;
                    if (!i || !Pe(i)) return void r(b(e, 'internal-error'));
                    const s = i.render;
                    (i.render = (e, t) => {
                      const n = s(e, t);
                      return this.counter++, n;
                    }),
                      (this.hostLanguage = t),
                      n(i);
                  };
                  const s = `${Dr}?${(0, i.xO)({ onload: Rr, render: 'explicit', hl: t })}`;
                  Me(s).catch(() => {
                    clearTimeout(o), r(b(e, 'internal-error'));
                  });
                })
          );
        }
        clearedOneInstance() {
          this.counter--;
        }
        shouldResolveImmediately(e) {
          var t;
          return (
            !!(null === (t = nr().grecaptcha) || void 0 === t ? void 0 : t.render) &&
            (e === this.hostLanguage || this.counter > 0 || this.librarySeparatelyLoaded)
          );
        }
      }
      function jr(e) {
        return e.length <= 6 && /^\s*[a-zA-Z0-9\-]*\s*$/.test(e);
      }
      class Mr {
        async load(e) {
          return new kr(e);
        }
        clearedOneInstance() {}
      }
      /**
       * @license
       * Copyright 2020 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */ const Fr = 'recaptcha',
        Ur = { theme: 'light', type: 'image' };
      class Vr {
        constructor(e, t = Object.assign({}, Ur), n) {
          (this.parameters = t),
            (this.type = Fr),
            (this.destroyed = !1),
            (this.widgetId = null),
            (this.tokenChangeListeners = new Set()),
            (this.renderPromise = null),
            (this.recaptcha = null),
            (this.auth = We(n)),
            (this.isInvisible = 'invisible' === this.parameters.size),
            S('undefined' !== typeof document, this.auth, 'operation-not-supported-in-this-environment');
          const r = 'string' === typeof e ? document.getElementById(e) : e;
          S(r, this.auth, 'argument-error'),
            (this.container = r),
            (this.parameters.callback = this.makeTokenCallback(this.parameters.callback)),
            (this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting ? new Mr() : new Lr()),
            this.validateStartingState();
        }
        async verify() {
          this.assertNotDestroyed();
          const e = await this.render(),
            t = this.getAssertedRecaptcha(),
            n = t.getResponse(e);
          return (
            n ||
            new Promise(n => {
              const r = e => {
                e && (this.tokenChangeListeners.delete(r), n(e));
              };
              this.tokenChangeListeners.add(r), this.isInvisible && t.execute(e);
            })
          );
        }
        render() {
          try {
            this.assertNotDestroyed();
          } catch (e) {
            return Promise.reject(e);
          }
          return (
            this.renderPromise ||
              (this.renderPromise = this.makeRenderPromise().catch(e => {
                throw ((this.renderPromise = null), e);
              })),
            this.renderPromise
          );
        }
        _reset() {
          this.assertNotDestroyed(), null !== this.widgetId && this.getAssertedRecaptcha().reset(this.widgetId);
        }
        clear() {
          this.assertNotDestroyed(),
            (this.destroyed = !0),
            this._recaptchaLoader.clearedOneInstance(),
            this.isInvisible ||
              this.container.childNodes.forEach(e => {
                this.container.removeChild(e);
              });
        }
        validateStartingState() {
          S(!this.parameters.sitekey, this.auth, 'argument-error'),
            S(this.isInvisible || !this.container.hasChildNodes(), this.auth, 'argument-error'),
            S('undefined' !== typeof document, this.auth, 'operation-not-supported-in-this-environment');
        }
        makeTokenCallback(e) {
          return t => {
            if ((this.tokenChangeListeners.forEach(e => e(t)), 'function' === typeof e)) e(t);
            else if ('string' === typeof e) {
              const n = nr()[e];
              'function' === typeof n && n(t);
            }
          };
        }
        assertNotDestroyed() {
          S(!this.destroyed, this.auth, 'internal-error');
        }
        async makeRenderPromise() {
          if ((await this.init(), !this.widgetId)) {
            let e = this.container;
            if (!this.isInvisible) {
              const t = document.createElement('div');
              e.appendChild(t), (e = t);
            }
            this.widgetId = this.getAssertedRecaptcha().render(e, this.parameters);
          }
          return this.widgetId;
        }
        async init() {
          S(C() && !ir(), this.auth, 'internal-error'),
            await Br(),
            (this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || void 0));
          const e = await Ne(this.auth);
          S(e, this.auth, 'internal-error'), (this.parameters.sitekey = e);
        }
        getAssertedRecaptcha() {
          return S(this.recaptcha, this.auth, 'internal-error'), this.recaptcha;
        }
      }
      function Br() {
        let e = null;
        return new Promise(t => {
          'complete' !== document.readyState ? ((e = () => t()), window.addEventListener('load', e)) : t();
        }).catch(t => {
          throw (e && window.removeEventListener('load', e), t);
        });
      }
      /**
       * @license
       * Copyright 2020 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */ class $r {
        constructor(e, t) {
          (this.verificationId = e), (this.onConfirmation = t);
        }
        confirm(e) {
          const t = _t._fromVerification(this.verificationId, e);
          return this.onConfirmation(t);
        }
      }
      async function qr(e, t, n) {
        const r = We(e),
          o = await Wr(r, t, (0, i.m9)(n));
        return new $r(o, e => Qt(r, e));
      }
      async function zr(e, t, n) {
        const r = (0, i.m9)(e);
        await Wt(!1, r, 'phone');
        const o = await Wr(r.auth, t, (0, i.m9)(n));
        return new $r(o, e => Yt(r, e));
      }
      async function Gr(e, t, n) {
        const r = (0, i.m9)(e),
          o = await Wr(r.auth, t, (0, i.m9)(n));
        return new $r(o, e => Xt(r, e));
      }
      async function Wr(e, t, n) {
        var r;
        const i = await n.verify();
        try {
          let o;
          if (
            (S('string' === typeof i, e, 'argument-error'),
            S(n.type === Fr, e, 'argument-error'),
            (o = 'string' === typeof t ? { phoneNumber: t } : t),
            'session' in o)
          ) {
            const t = o.session;
            if ('phoneNumber' in o) {
              S('enroll' === t.type, e, 'internal-error');
              const n = await Ln(e, { idToken: t.credential, phoneEnrollmentInfo: { phoneNumber: o.phoneNumber, recaptchaToken: i } });
              return n.phoneSessionInfo.sessionInfo;
            }
            {
              S('signin' === t.type, e, 'internal-error');
              const n = (null === (r = o.multiFactorHint) || void 0 === r ? void 0 : r.uid) || o.multiFactorUid;
              S(n, e, 'missing-multi-factor-info');
              const s = await Er(e, { mfaPendingCredential: t.credential, mfaEnrollmentId: n, phoneSignInInfo: { recaptchaToken: i } });
              return s.phoneResponseInfo.sessionInfo;
            }
          }
          {
            const { sessionInfo: t } = await mt(e, { phoneNumber: o.phoneNumber, recaptchaToken: i });
            return t;
          }
        } finally {
          n._reset();
        }
      }
      async function Hr(e, t) {
        await Gt((0, i.m9)(e), t);
      }
      /**
       * @license
       * Copyright 2020 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */ class Kr {
        constructor(e) {
          (this.providerId = Kr.PROVIDER_ID), (this.auth = We(e));
        }
        verifyPhoneNumber(e, t) {
          return Wr(this.auth, e, (0, i.m9)(t));
        }
        static credential(e, t) {
          return _t._fromVerification(e, t);
        }
        static credentialFromResult(e) {
          const t = e;
          return Kr.credentialFromTaggedObject(t);
        }
        static credentialFromError(e) {
          return Kr.credentialFromTaggedObject(e.customData || {});
        }
        static credentialFromTaggedObject({ _tokenResponse: e }) {
          if (!e) return null;
          const { phoneNumber: t, temporaryProof: n } = e;
          return t && n ? _t._fromTokenResponse(t, n) : null;
        }
      }
      /**
       * @license
       * Copyright 2021 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */
      function Qr(e, t) {
        return t ? he(t) : (S(e._popupRedirectResolver, e, 'argument-error'), e._popupRedirectResolver);
      }
      /**
       * @license
       * Copyright 2019 Google LLC
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       */ (Kr.PROVIDER_ID = 'phone'), (Kr.PHONE_SIGN_IN_METHOD = 'phone');
      class Yr extends et {
        constructor(e) {
          super('custom', 'custom'), (this.params = e);
        }
        _getIdTokenResponse(e) {
          return dt(e, this._buildIdpRequest());
        }
        _linkToIdToken(e, t) {
          return dt(e, this._buildIdpRequest(t));
        }
        _getReauthenticationResolver(e) {
          return dt(e, this._buildIdpRequest());
        }
        _buildIdpRequest(e) {
          const t = {
            requestUri: this.params.requestUri,
            sessionId: this.params.sessionId,
